"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="__events__",t="__shared__",n="__observers__";exports.Observable=function(){function s(e){this.dispatch=this.publish,s.initialize(),this.namespace=e}s.initialize=function(){var s;window[t]||(window[t]=((s={})[e]={},s[n]={},s)),window[t][e]||(window[t][e]={}),window[t][n]||(window[t][n]={})};var i,r=s.prototype;return r.getEvents=function(){return this.events},r.getLastEvent=function(){var e=this.events;if(e.length)return e[e.length-1]},r.publish=function(e){var t=this.events,n=this.getLastEvent();this.observers.forEach((function(s){return s(e,{events:t,lastEvent:n})})),this.events.push(e)},r.subscribe=function(e){this.observers=this.observers.concat(e)},r.unsubscribe=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},r.clear=function(){var e=this.events,t=this.getLastEvent();this.observers.forEach((function(n){return n(void 0,{events:e,lastEvent:t})})),this.events=[],this.observers=[]},(i=[{key:"namespace",set:function(e){this._namespace=e,this.events||(this.events=[]),this.observers||(this.observers=[])}},{key:"events",get:function(){return window[t][e][this._namespace]},set:function(n){window[t][e][this._namespace]=n}},{key:"observers",get:function(){return window[t][n][this._namespace]},set:function(e){window[t][n][this._namespace]=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(s.prototype,i),s}();
//# sourceMappingURL=windowed-observable.cjs.production.min.js.map
